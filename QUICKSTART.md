# 快速开始指南

## 5分钟快速体验

### Windows用户

#### 方法1：使用Visual Studio 2022（推荐）

1. **打开项目**
   - 启动Visual Studio 2022
   - 点击"打开本地文件夹"
   - 选择项目根目录

2. **编译**
   - 等待CMake配置完成
   - 点击"生成" -> "生成全部"（或按Ctrl+Shift+B）

3. **运行**
   - 点击"调试" -> "开始执行（不调试）"（或按Ctrl+F5）

#### 方法2：使用命令行

```cmd
# 双击运行 build.bat 自动编译
build.bat

# 双击运行 run.bat 启动程序
run.bat
```

### Linux/Mac用户

```bash
# 一键编译
./build.sh

# 运行程序
./build/bin/MealRecommendationSystem
```

## 第一次使用

### 1. 注册账号

```
选择: 2. 用户注册

输入用户名: zhangsan
输入密码: 123456
年龄: 25
体重 (kg): 70
身高 (cm): 175
性别: 1 (男)
活动水平: 3 (中度活动)
```

系统会自动计算您的每日营养目标。

### 2. 登录系统

```
选择: 1. 用户登录

用户名: zhangsan
密码: 123456
```

### 3. 获取推荐

```
主菜单选择: 1. 获取每日配餐推荐
```

系统会立即生成早、中、晚三餐推荐，包括：
- 每餐的食物组成
- 详细的营养成分
- 全天营养总计

### 4. 保存餐单

```
是否保存此推荐餐单？(y/n): y
```

### 5. 查看历史

```
主菜单选择: 2. 查看历史记录
```

可以看到您保存的所有餐单和统计信息。

## 功能演示

### 设置口味偏好

```
主菜单选择: 7. 口味偏好设置

1. 添加喜欢的口味
输入: 清淡

2. 添加避免的口味
输入: 辣
```

### 查看营养分析

```
主菜单选择: 5. 营养成分可视化

选择: 1. 查看今日营养摄入
```

会显示：
- 营养成分分布图
- 营养素占比
- 目标达成进度条

### 手动创建餐单

```
主菜单选择: 3. 手动调整餐单

1. 创建新餐单
餐次类型: 2 (午餐)

添加食物:
搜索: 鸡胸肉
选择编号: 1

继续添加或保存
```

### 浏览食物库

```
主菜单选择: 4. 食物数据库查询

1. 浏览所有食物
或
2. 搜索食物 -> 输入关键词
或
3. 按类别浏览 -> 选择类别
```

## 使用技巧

### 1. 获得更好的推荐

✅ **定期更新个人信息**
- 体重变化时更新
- 活动水平改变时更新

✅ **设置详细的口味偏好**
- 添加多个喜欢的口味标签
- 标记避免的口味
- 设置过敏源

✅ **保存真实饮食记录**
- 不仅保存推荐餐单
- 也记录实际吃的食物
- 帮助系统了解您的习惯

### 2. 体重管理目标

**减重**
```
个人资料管理 -> 修改基本信息
体重: 输入目标体重 - 5kg
系统会重新计算热量目标
```

**增重**
```
适当增加体重输入值
多吃高蛋白食物
```

**维持**
```
保持当前设置
注意营养均衡
```

### 3. 特殊饮食需求

**素食者**
```
口味偏好设置 -> 添加避免的口味
输入: 肉类
或直接在食物选择时避开肉类
```

**低碳饮食**
```
手动调整餐单
选择低碳水食物
系统会显示实时营养总计
```

**高蛋白饮食**
```
增加肉类、蛋类、豆制品
可以手动调整推荐结果
```

## 常见场景

### 场景1：工作日快速获取推荐

```
登录 -> 获取推荐 -> 保存 (共3步，不到30秒)
```

### 场景2：周末精心规划饮食

```
1. 查看历史记录，了解本周饮食情况
2. 浏览食物库，选择想吃的食物
3. 手动创建周末特别餐单
4. 查看营养分析，确保均衡
```

### 场景3：健身期间使用

```
1. 更新活动水平为"重度活动"或"非常活跃"
2. 系统自动增加热量和蛋白质目标
3. 获取推荐时会偏向高蛋白食物
4. 定期记录体重变化
```

### 场景4：控制血糖

```
1. 避免高糖食物标签
2. 选择低GI食物（全麦、蔬菜）
3. 分餐吃，添加加餐记录
4. 监控碳水摄入量
```

## 数据说明

### 初次运行

系统会自动创建`data`文件夹并初始化25种常见食物：

- **主食类**：米饭、面包、燕麦、红薯
- **肉类**：鸡胸肉、三文鱼、牛肉、猪肉
- **蔬菜类**：西兰花、菠菜、胡萝卜、番茄
- **豆制品**：豆腐、豆浆
- **蛋类**：鸡蛋、鸭蛋
- **水果类**：苹果、香蕉、橙子
- **坚果类**：核桃、杏仁
- **饮品类**：牛奶、酸奶
- **汤类**：紫菜蛋花汤、番茄蛋汤

### 数据文件位置

```
data/
├── users.txt      # 用户账号信息
├── foods.txt      # 食物营养数据
└── meals.txt      # 餐单历史记录
```

### 备份数据

重要！定期备份`data`文件夹：

```bash
# Windows
xcopy data data_backup /E /I

# Linux/Mac
cp -r data data_backup
```

## 问题排查

### 程序无法启动

**检查项**：
- [ ] 是否已编译
- [ ] 工作目录是否正确
- [ ] data文件夹是否可访问

**解决**：
```bash
# 重新编译
rm -rf build
./build.sh  # 或 build.bat
```

### 找不到食物

**原因**：首次运行未初始化数据

**解决**：删除`data/foods.txt`，重启程序自动初始化

### 推荐结果不理想

**优化方法**：
1. 完善口味偏好设置
2. 多保存真实饮食记录
3. 确保个人信息准确

### 中文显示乱码

**Windows解决**：
```cmd
chcp 65001
```

**Linux解决**：
```bash
export LANG=zh_CN.UTF-8
```

## 进阶使用

### 自定义食物数据

编辑`data/foods.txt`，按格式添加：

```
ID|名称|热量|蛋白质|碳水|脂肪|纤维|标签|类别
26|自定义食物|100|5|20|2|1|清淡|蔬菜
```

### 导出数据

```bash
# 导出用户餐单历史
grep "^用户ID" data/meals.txt > my_history.txt

# 导出为CSV格式（可用Excel打开）
# 手动转换 | 为 , 
```

### 批量操作

```bash
# 清空历史记录（谨慎！）
> data/meals.txt

# 重置食物数据
rm data/foods.txt
# 重启程序自动初始化
```

## 更多帮助

- 📖 详细文档：`docs/用户使用手册.md`
- 🛠️ 开发文档：`docs/开发文档.md`
- 💻 编译说明：`docs/VS2022编译说明.md`
- 🏗️ 系统设计：`docs/系统设计文档.md`

## 反馈与支持

遇到问题或有建议？

1. 查看文档中的常见问题部分
2. 检查GitHub Issues
3. 联系开发团队

---

开始享受科学的饮食管理吧！ 🍽️✨
