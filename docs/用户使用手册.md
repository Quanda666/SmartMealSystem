# 智能配餐推荐系统 - 用户使用手册

## 目录
1. [系统简介](#系统简介)
2. [系统安装](#系统安装)
3. [快速开始](#快速开始)
4. [功能详解](#功能详解)
5. [常见问题](#常见问题)

## 系统简介

智能配餐推荐系统是一款智能化的饮食管理工具，可以根据您的个人信息、营养需求和口味偏好，为您推荐科学合理的每日餐单。

### 主要特点

- ✅ 个性化营养目标计算
- ✅ 智能餐单推荐
- ✅ 25+种食物数据库
- ✅ 营养成分可视化
- ✅ 历史记录追踪
- ✅ 口味偏好管理
- ✅ 手动餐单调整

## 系统安装

### Windows系统

1. 确保已安装Visual Studio 2022
2. 下载项目源代码
3. 用Visual Studio打开项目文件夹
4. 编译并运行

### 系统要求

- 操作系统：Windows 10/11 或 Linux
- 内存：至少 512MB
- 硬盘空间：至少 50MB

## 快速开始

### 第一步：注册账号

1. 启动程序
2. 在主界面选择 `2. 用户注册`
3. 输入用户名（建议使用易记的名称）
4. 输入密码（建议设置安全密码）
5. 填写个人信息：
   - 年龄：输入您的实际年龄
   - 体重：以千克(kg)为单位
   - 身高：以厘米(cm)为单位
   - 性别：选择 1.男 或 2.女
   - 活动水平：根据您的日常活动量选择
     - 久坐：办公室工作，很少运动
     - 轻度活动：每周运动1-3天
     - 中度活动：每周运动3-5天
     - 重度活动：每周运动6-7天
     - 非常活跃：体力劳动或每天多次运动

### 第二步：登录系统

1. 选择 `1. 用户登录`
2. 输入用户名和密码
3. 登录成功后进入主菜单

### 第三步：获取餐单推荐

1. 在主菜单选择 `1. 获取每日配餐推荐`
2. 系统自动生成今日的早、中、晚三餐推荐
3. 查看每餐的食物组成和营养信息
4. 如果满意，输入 `y` 保存推荐餐单

## 功能详解

### 1. 获取每日配餐推荐

**功能说明**：根据您的营养需求和口味偏好，自动生成一日三餐推荐。

**使用步骤**：
1. 主菜单选择 `1`
2. 查看推荐的早餐、午餐、晚餐
3. 每餐都会显示：
   - 食物列表
   - 各食物的热量和蛋白质
   - 整餐的营养总计
4. 底部显示全天营养总计和目标对比
5. 选择是否保存

**推荐说明**：
- 早餐：约占全天热量的30%，包含主食、蛋类、饮品
- 午餐：约占全天热量的40%，包含主食、肉类、蔬菜、汤
- 晚餐：约占全天热量的30%，包含主食、蔬菜、豆制品

### 2. 查看历史记录

**功能说明**：查看您过去保存的所有餐单记录，了解饮食历史。

**使用步骤**：
1. 主菜单选择 `2`
2. 系统按日期分组显示历史餐单
3. 每条记录包含：
   - 日期
   - 餐次类型
   - 食物列表
   - 营养总计
4. 底部显示历史统计信息：
   - 记录总数
   - 平均热量摄入
   - 平均营养素摄入

### 3. 手动调整餐单

**功能说明**：创建自定义餐单，自由添加或删除食物。

**使用步骤**：
1. 主菜单选择 `3`
2. 选择 `1. 创建新餐单`
3. 输入日期（回车使用今天）
4. 选择餐次类型：
   - 1. 早餐
   - 2. 午餐
   - 3. 晚餐
   - 4. 加餐
5. 在餐单编辑界面：
   - 选择 `1` 添加食物
     - 输入食物名称关键词搜索
     - 从搜索结果中选择食物
   - 选择 `2` 删除食物
     - 输入要删除的食物ID
   - 选择 `3` 保存并退出
   - 选择 `0` 放弃并返回
6. 系统实时显示当前餐单的营养总计

### 4. 食物数据库查询

**功能说明**：浏览和搜索食物数据库，查看详细营养信息。

**使用步骤**：
1. 主菜单选择 `4`
2. 选择浏览方式：
   - **浏览所有食物**：列表显示所有食物及其基本信息
   - **搜索食物**：输入关键词搜索特定食物
   - **按类别浏览**：选择食物类别后查看该类别的所有食物

**食物类别**：
- 主食：米饭、面包、燕麦等
- 肉类：鸡肉、牛肉、鱼类等
- 蔬菜：西兰花、菠菜、胡萝卜等
- 水果：苹果、香蕉、橙子等
- 豆制品：豆腐、豆浆等
- 蛋类：鸡蛋、鸭蛋等
- 坚果：核桃、杏仁等
- 饮品：牛奶、酸奶等
- 汤：各种汤类

### 5. 营养成分可视化

**功能说明**：以图表形式展示营养摄入情况，直观了解营养状况。

**使用步骤**：
1. 主菜单选择 `5`
2. 选择查看方式：
   - `1` 查看今日营养摄入
   - `2` 查看指定日期营养摄入
   - `3` 查看营养目标达成情况
3. 系统显示：
   - 营养成分分布图表
   - 热量、蛋白质、碳水、脂肪的具体数值和占比
   - 与每日目标的对比进度条

**图表说明**：
- 进度条显示当前摄入 / 目标值
- 百分比显示目标达成率
- 绿色表示合理范围，黄色表示接近上限，红色表示超标

### 6. 个人资料管理

**功能说明**：查看和修改个人基本信息，更新营养目标。

**使用步骤**：
1. 主菜单选择 `6`
2. 查看当前个人资料和营养目标
3. 选择操作：
   - `1` 修改基本信息
     - 更新年龄、体重、身高
     - 系统自动重新计算营养目标
   - `2` 重新计算营养目标
     - 基于当前信息重新计算

**何时需要更新**：
- 体重发生显著变化（±3kg）
- 活动量改变
- 年龄增长
- 健康状况变化

### 7. 口味偏好设置

**功能说明**：设置您的口味偏好和过敏信息，优化推荐结果。

**使用步骤**：
1. 主菜单选择 `7`
2. 查看当前口味偏好设置
3. 选择操作：
   - `1` 添加喜欢的口味
     - 常见口味：清淡、甜、咸、酸、辣、鲜、香
     - 输入口味标签
   - `2` 添加避免的口味
     - 系统推荐时会尽量避免这些口味
   - `3` 设置过敏源
     - 包含过敏源的食物将被完全排除

**口味标签说明**：
- **清淡**：适合清淡饮食、养胃需求
- **甜**：适合喜欢甜食的用户
- **咸**：适合重口味用户
- **酸**：适合喜欢酸味食物
- **辣**：适合能吃辣的用户
- **鲜**：适合喜欢鲜味（如海鲜、肉类）
- **香**：适合喜欢香味食物（如坚果）

## 营养知识

### 每日营养需求

**热量**：
- 成年男性：2000-2500 kcal
- 成年女性：1800-2200 kcal
- 根据活动量和目标调整

**蛋白质**：
- 推荐：体重(kg) × 1.0-1.5g
- 占总热量的15-25%

**碳水化合物**：
- 占总热量的50-60%
- 优先选择复合碳水

**脂肪**：
- 占总热量的20-30%
- 注意饱和脂肪摄入

### 三餐分配建议

- **早餐**：30% - 重要的一餐，提供上午能量
- **午餐**：40% - 一天中最丰盛的一餐
- **晚餐**：30% - 适量即可，避免过饱

### 营养素功能

**蛋白质**：
- 构建和修复组织
- 合成酶和激素
- 提供能量（1g = 4 kcal）

**碳水化合物**：
- 主要能量来源
- 大脑首选能量
- 提供能量（1g = 4 kcal）

**脂肪**：
- 储存能量
- 保护器官
- 帮助维生素吸收
- 提供能量（1g = 9 kcal）

**膳食纤维**：
- 促进消化
- 增加饱腹感
- 调节血糖

## 使用技巧

### 1. 获得更好的推荐

- 及时更新个人信息
- 设置准确的口味偏好
- 定期保存实际饮食记录
- 根据推荐调整并记录

### 2. 营养搭配原则

- 主食+蛋白质+蔬菜的组合
- 每餐包含多种食物类别
- 注意食物多样性
- 控制总热量摄入

### 3. 体重管理

**减重**：
- 每日热量赤字500 kcal
- 增加蛋白质比例
- 选择低热量高饱腹感食物

**增重**：
- 每日热量盈余300-500 kcal
- 增加碳水和蛋白质
- 少食多餐

**维持**：
- 保持热量平衡
- 注意营养均衡
- 适量运动

## 常见问题

### Q1: 如何修改密码？
A: 当前版本暂不支持修改密码，后续版本会添加此功能。

### Q2: 推荐的热量太高/太低怎么办？
A: 进入"个人资料管理"，更新您的体重和活动水平，系统会重新计算营养目标。

### Q3: 找不到想吃的食物怎么办？
A: 当前版本包含25种常见食物，可以选择相似的食物替代。后续版本会扩充食物库。

### Q4: 推荐的餐单不符合口味怎么办？
A: 
1. 进入"口味偏好设置"，添加您喜欢/避免的口味
2. 使用"手动调整餐单"功能自定义餐单

### Q5: 如何删除历史记录？
A: 当前版本暂不支持删除历史记录，您可以直接修改data目录下的meals.txt文件。

### Q6: 可以为家人创建多个账号吗？
A: 可以，系统支持多用户注册和登录。

### Q7: 数据存储在哪里？
A: 所有数据存储在程序目录下的data文件夹中，包括：
- users.txt - 用户数据
- foods.txt - 食物数据
- meals.txt - 餐单记录

### Q8: 如何备份数据？
A: 复制data文件夹到其他位置即可备份所有数据。

### Q9: 系统崩溃数据会丢失吗？
A: 不会，每次保存都会立即写入文件，数据持久化保存。

### Q10: 活动水平如何选择？
A:
- **久坐**：整天坐着，很少运动
- **轻度活动**：每周1-3天轻度运动
- **中度活动**：每周3-5天中等强度运动
- **重度活动**：每周6-7天高强度运动
- **非常活跃**：体力劳动或每天多次运动

## 注意事项

1. **医疗建议**：本系统仅供参考，不能替代医疗建议。如有特殊健康状况，请咨询医生或营养师。

2. **数据准确性**：请确保输入准确的个人信息，以获得合理的营养目标。

3. **过敏警告**：如有食物过敏，务必在系统中设置过敏源。

4. **定期更新**：建议每月更新一次体重等个人信息。

5. **数据备份**：建议定期备份data文件夹。

## 技术支持

如遇到问题或有建议，请联系开发团队。

---

**版本**：v1.0  
**更新日期**：2024年
